<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Powertrain selection - BLINK |TOL Automotive</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="Assets/logoFav.png" type="image/png" />
  </head>
  <body>
    <header>
      <div class="top-bar">
        <div class="logo">
          <a href="index.html">
            <img src="Assets/logoFav.png" alt="logo" />
          </a>
        </div>
        <nav>
          <ul>
            <li id="config"><a href="2configurator.html">Configure</a></li>
            <li id="owners"><a href="owners.html">Owners</a></li>
            <li id="about"><a href="about.html">About Us</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <section class="info">
      <div class="info-text">
        <h2>Powertrain selection</h2>
        <p>Tailor the performance and range to your needs</p>
      </div>
    </section>

    <div class="configurator">
      <div class="confGallery" style="display: none">
        <img src="Assets/lot.jpeg" alt="Image 1" class="gallery-img active" />
        <img src="Assets/char.webp" alt="Image 2" class="gallery-img" />
        <img src="Assets/lot1.jpg" alt="Image 3" class="gallery-img" />
      </div>
      <div class="img-inner-container">
        <!-- IMAGE IS HIDDEN -->
        <img
          id="car-color-image"
          src="Assets/carImageSelection/1RedDiamond.png"
          alt="Selected car"
          class="configurator-img"
          style="display: none"
        />
        <!-- ACTUAL IFRAME SHOWN -->
        <iframe
          id="colorFrame"
          src="carProjection.html"
          style="
            width: 100%;
            height: 60vh;
            border: solid 2px white;
            background-color: #63d9fd;
            border-radius: 20px;
          "
        ></iframe>
      </div>

      <div class="confSelector">
        <ul>
          <li data-id="trail">
            <b><h3>Trail | all the necessities</h3></b>
            <br />
            <p>
              Single-motor | 220hp <br />
              65kWh battery and WLTP range of 300miles
              <br />
              <br />
              <b><i>RRP: from £38,370</i></b>
            </p>
          </li>
          <li data-id="tall">
            <b><h3>Tall | the most range</h3></b>
            <br />
            <p>
              Single-motor | 220hp <br />
              90kWh battery and WLTP range of 410miles
              <br />
              <br />
              <b><i>RRP: from £42,370</i></b>
            </p>
          </li>
          <li data-id="truck">
            <b><h3>Truck | more power, all the whistles</h3></b>
            <br />
            <p>
              Dual-motor | 520hp <br />
              90kWh battery and WLTP range of 380miles
              <br />
              <br />
              <b><i>RRP: from £46,370</i></b>
            </p>
          </li>
        </ul>
      </div>
    </div>
    <div class="whatIsIncluded">
      <h1>What is included</h1>

      <h3>Equipment</h3>
    </div>
    <div class="kit">
      <div class="kitColumn">
        <h1>Trail</h1>
        <h4>included</h4>
        <br />
        <ul style="text-align: left">
          <li>LED headlights</li>
          <li>Cruise control</li>
          <li>Lane keep assist</li>
          <li>SOS button</li>
          <li>10" infotainment screen</li>
          <li>Digital gauge cluster</li>
          <li>Heated steering wheel</li>
          <li>Heated front seats</li>
          <li>20" diamond-cut rims</li>
        </ul>
      </div>
      <div class="kitColumn">
        <h1>Tall</h1>
        <h4>included</h4>
        <br />
        <ul style="text-align: left">
          <li>LED headlights</li>
          <li>Adaptive cruise control</li>
          <li>Lane keep assist</li>
          <li>SOS button</li>
          <li>15" infotainment screen</li>
          <li>Digital gauge cluster</li>
          <li>Heated steering wheel</li>
          <li>Heated front seats</li>
          <li>Heated rear passenger seats</li>
          <li>Dual zone climate control</li>
          <li>21" diamond-cut rims</li>
        </ul>
      </div>
      <div class="kitColumn">
        <h1>Truck</h1>
        <h4>included</h4>
        <br />
        <ul style="text-align: left">
          <li>Matrix LED headlights</li>
          <li>Adaptive cruise control</li>
          <li>Lane keep assist</li>
          <li>SOS button</li>
          <li>15" infotainment screen</li>
          <li>Digital gauge cluster</li>
          <li>Heated steering wheel</li>
          <li>Heated & cooled front seats</li>
          <li>Heated & cooled rear passenger seats</li>
          <li>Dual zone climate control</li>
          <li>22" diamond-cut rims</li>
        </ul>
      </div>
    </div>
    <div class="button-container">
      <a href="4.1colour.html" class="next-button"
        >Colour selection <i class="fas fa-arrow-right"></i
      ></a>
      <div class="price-button" id="priceDisplay" style="display: none">
        <span>Subtotal: £<span id="priceValue">0</span></span>
      </div>
    </div>
    <script src="price.js"></script>
    <script src="gallery.js"></script>
    <script>
      //SELECTION HIGHLIGHT
      document.addEventListener("DOMContentLoaded", () => {
        const listItems = document.querySelectorAll(".confSelector ul li");

        // Load saved selection from localStorage
        const savedSelection = localStorage.getItem("selectedOption");

        if (savedSelection) {
          // Highlight the previously selected item
          const selectedElement = document.querySelector(
            `.confSelector ul li[data-id="${savedSelection}"]`
          );
          if (selectedElement) {
            selectedElement.classList.add("selected");
          }
        }

        // Add click event to each list item
        listItems.forEach((item) => {
          item.addEventListener("click", () => {
            // Remove 'selected' class from all items
            listItems.forEach((li) => li.classList.remove("selected"));

            // Add 'selected' class to the clicked item
            item.classList.add("selected");

            // Save the selection to localStorage
            const selectedId = item.getAttribute("data-id");
            localStorage.setItem("selectedOption", selectedId);
          });
        });
      });

      //BACK BUTTON
      function saveCurrentPage() {
        sessionStorage.setItem("previousPage", window.location.href);
      }

      function goToPreviousPage() {
        const previousPage = sessionStorage.getItem("previousPage");
        if (previousPage) {
          window.location.href = previousPage;
        } else {
          alert("No previous page found.");
        }
      }

      window.onload = function () {
        const previousPage = sessionStorage.getItem("previousPage");
        const backButton = document.querySelector(".back-button");
        if (previousPage) {
          backButton.style.display = "inline-block";
        }
      };
    </script>
    <footer class="footer">
      <p>© 2024 TOL Automotive UK. All rights reserved.</p>
    </footer>
  </body>
</html>
